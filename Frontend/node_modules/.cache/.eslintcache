<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
[{"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js":"1","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js":"2","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js":"3","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js":"4","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js":"5","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js":"6","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js":"7","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js":"8","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js":"9","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js":"10","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js":"11","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js":"12","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\getAllParkingFee.js":"13","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\components\\StatusBar.js":"14"},{"size":307,"mtime":1665307948485,"results":"15","hashOfConfig":"16"},{"size":1752,"mtime":1667620633668,"results":"17","hashOfConfig":"16"},{"size":1937,"mtime":1665307948484,"results":"18","hashOfConfig":"16"},{"size":4474,"mtime":1667619182556,"results":"19","hashOfConfig":"16"},{"size":2887,"mtime":1665940068599,"results":"20","hashOfConfig":"16"},{"size":789,"mtime":1665317719656,"results":"21","hashOfConfig":"16"},{"size":2554,"mtime":1665307948483,"results":"22","hashOfConfig":"16"},{"size":6917,"mtime":1665307948483,"results":"23","hashOfConfig":"16"},{"size":2173,"mtime":1665307948481,"results":"24","hashOfConfig":"16"},{"size":3159,"mtime":1665307948484,"results":"25","hashOfConfig":"16"},{"size":2891,"mtime":1665938753545,"results":"26","hashOfConfig":"16"},{"size":1619,"mtime":1665307948483,"results":"27","hashOfConfig":"16"},{"size":637,"mtime":1665320095906,"results":"28","hashOfConfig":"16"},{"size":2628,"mtime":1665940747334,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"169qvwn",{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js",[],["62","63"],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js",["64"],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js",["65","66"],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js",["67"],"import React from \"react\";\r\nimport useGlobalContext from \"../../context/index\";\r\nimport { RiCloseFill, RiRoundedCorner } from \"react-icons/ri\";\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\n\r\nconst Tab = styled.button`\r\n  padding: 10px 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n  background: white;\r\n  border: 0;\r\n  outline: 0;\r\n  border-bottom: 2px solid transparent;\r\n  transition: ease border-bottom 250ms;\r\n  ${({ active }) =>\r\n    active &&\r\n    `\r\n    border-bottom: 2px solid black;\r\n    opacity: 1;\r\n  `}\r\n`;\r\n\r\nconst types = [\"Cash\", \"Comp\"];\r\nfunction TabGroup() {\r\n  const [active, setActive] = useState(types[0]);\r\n  return (\r\n    <>\r\n      <div>\r\n        {types.map((type) => (\r\n          <Tab\r\n            key={type}\r\n            active={active === type}\r\n            onClick={() => setActive(type)}\r\n          >\r\n            {type}\r\n          </Tab>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ManageBar() {\r\n  const { ForManaging, ParkingSlots, Exited, MockDate } = useGlobalContext();\r\n  const [forManaging, setForManaging] = ForManaging;\r\n  const [, setParkingSlots] = ParkingSlots;\r\n  const data = forManaging?.content;\r\n  const [exited, setExited] = Exited;\r\n  const [mockDate] = MockDate;\r\n\r\n  const hours = (\r\n    Math.abs(\r\n      (mockDate ? new Date(mockDate) : new Date()) - new Date(data?.entry)\r\n    ) / 36e5\r\n  ).toFixed(2);\r\n\r\n  const price = {\r\n    Bike: localStorage.getItem(\"bikeVal\") || 20,\r\n    Car: localStorage.getItem(\"carVal\") || 60,\r\n    Van: localStorage.getItem(\"vanVal\") || 100,\r\n  };\r\n\r\n  const getBill = (hours) => {\r\n    if (hours >= 24) return 5000;\r\n    return price[data?.size];\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setParkingSlots((P) =>\r\n      P.map((p) =>\r\n        p.occupied === data?.occupied ? { ...p, occupied: false } : p\r\n      )\r\n    );\r\n    setExited([...exited, { exit: new Date(), plate: data.occupied }]);\r\n    setForManaging({});\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        !forManaging.open && \"translate-y-full z-50\"\r\n      } transform duration-500 fixed bottom-0 inset-x-0`}\r\n    >\r\n      <div className=\"bg-blue-500 mx-auto min-w-max w-96  p-4 px-6 rounded-t-lg relative flex text-2xl justify-between items-end\">\r\n        <RiCloseFill\r\n          onClick={() => setForManaging({})}\r\n          className=\"absolute right-1 top-1 cursor-pointer\"\r\n        />\r\n        <div>\r\n          <p>plate: {data?.occupied}</p>\r\n          <p>time: {hours} hr/s</p>\r\n          <p>Total payment: {getBill(Math.ceil(hours))} LKR</p>\r\n          <div>\r\n            <TabGroup />\r\n          </div>\r\n\r\n          <BiExit\r\n            title=\"UNPARK\"\r\n            className=\"text-4xl cursor-pointer\"\r\n            onClick={() => handleExit()}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ManageBar;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js",["68","69","70","71","72","73"],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AllPark from \"./getAllParkingFee\";\r\n\r\nconst Form = () => {\r\n  const [bikeVal, setbikeFee] = useState(\"\");\r\n  const [carVal, setCarFee] = useState(\"\");\r\n  const [vanVal, setvanFee] = useState(\"\");\r\n\r\n  const [parkingFee, setparkingFee] = useState({\r\n    feeId: \"1\",\r\n    CarVal: 0,\r\n    BikeVal: 0,\r\n    VanVal: 0,\r\n  });\r\n\r\n  var AllInfo = AllPark();\r\n\r\n  let j = AllInfo.length;\r\n  j--;\r\n\r\n  if (j >= 0) {\r\n    let reqId = parseInt(AllInfo[j].feeId);\r\n    reqId++;\r\n    console.log(reqId);\r\n\r\n    parkingFee.feeId = reqId;\r\n  }\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n    window.location.reload(false);\r\n\r\n    axios\r\n      .post(\"http://localhost:8080/park/parkFee\", parkingFee)\r\n      .then(() => {\r\n        alert(\"Request Added Successfully\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <form\r\n      onSubmit={onSubmit}\r\n      className=\"fixed text-1x2  grid place-content-center text-black\"\r\n    >\r\n      <div className=\"border-2 relative rounded-lg p-5 pt-10 flex flex-col gap-3\">\r\n        <h1>Update Parking fee</h1>\r\n\r\n        <div>\r\n          <div>\r\n            <label>Vehicle type </label>\r\n            <p>\r\n              bike : &nbsp;\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                placeholder=\"enter new value\"\r\n                onChange={(e) => {\r\n                  setparkingFee({\r\n                    ...parkingFee,\r\n                    BikeVal: e.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </p>\r\n            <br></br>\r\n            <p>\r\n              car : &nbsp;\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                placeholder=\"enter new value\"\r\n                onChange={(e) => {\r\n                  setparkingFee({\r\n                    ...parkingFee,\r\n                    CarVal: e.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </p>\r\n            <br></br>\r\n            <p>\r\n              van : &nbsp;\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                placeholder=\"enter new value\"\r\n                onChange={(e) => {\r\n                  setparkingFee({\r\n                    ...parkingFee,\r\n                    VanVal: e.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </p>\r\n            <br></br>\r\n          </div>\r\n\r\n          <button\r\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded-full\"\r\n            type=\"submit\"\r\n          >\r\n            Submit\r\n          </button>\r\n          <br></br>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\getAllParkingFee.js",["74"],"import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function GetAllParkingFee() {\r\n  const [ParkingFee, setParkingFee] = useState([]);\r\n\r\n  useEffect(() => {\r\n    //useEffect is a react hook that calls itself when the page loads/reloads\r\n    axios\r\n      .get(\"http://localhost:8080/park/parkFee\")\r\n      .then((allInfo) => {\r\n        setParkingFee(allInfo.data);\r\n        console.log(\"Data retreived Successfully\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  }, []); //The square empty brackets is the syntax of react hook\r\n  return ParkingFee;\r\n}\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\components\\StatusBar.js",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":6,"column":10,"nodeType":"81","messageId":"82","endLine":6,"endColumn":24},{"ruleId":"79","severity":1,"message":"83","line":1,"column":10,"nodeType":"81","messageId":"82","endLine":1,"endColumn":14},{"ruleId":"79","severity":1,"message":"84","line":7,"column":16,"nodeType":"81","messageId":"82","endLine":7,"endColumn":22},{"ruleId":"79","severity":1,"message":"85","line":3,"column":23,"nodeType":"81","messageId":"82","endLine":3,"endColumn":38},{"ruleId":"79","severity":1,"message":"86","line":6,"column":10,"nodeType":"81","messageId":"82","endLine":6,"endColumn":17},{"ruleId":"79","severity":1,"message":"87","line":6,"column":19,"nodeType":"81","messageId":"82","endLine":6,"endColumn":29},{"ruleId":"79","severity":1,"message":"88","line":7,"column":10,"nodeType":"81","messageId":"82","endLine":7,"endColumn":16},{"ruleId":"79","severity":1,"message":"89","line":7,"column":18,"nodeType":"81","messageId":"82","endLine":7,"endColumn":27},{"ruleId":"79","severity":1,"message":"90","line":8,"column":10,"nodeType":"81","messageId":"82","endLine":8,"endColumn":16},{"ruleId":"79","severity":1,"message":"91","line":8,"column":18,"nodeType":"81","messageId":"82","endLine":8,"endColumn":27},{"ruleId":"79","severity":1,"message":"92","line":1,"column":8,"nodeType":"81","messageId":"82","endLine":1,"endColumn":13},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'SideNavigation' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'Button' is defined but never used.","'RiRoundedCorner' is defined but never used.","'bikeVal' is assigned a value but never used.","'setbikeFee' is assigned a value but never used.","'carVal' is assigned a value but never used.","'setCarFee' is assigned a value but never used.","'vanVal' is assigned a value but never used.","'setvanFee' is assigned a value but never used.","'React' is defined but never used.","no-global-assign","no-unsafe-negation"]
=======
[{"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js":"1","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js":"2","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js":"3","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js":"4","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js":"5","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js":"6","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js":"7","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js":"8","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js":"9","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js":"10","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js":"11","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js":"12"},{"size":307,"mtime":1665307948485,"results":"13","hashOfConfig":"14"},{"size":1779,"mtime":1665307948441,"results":"15","hashOfConfig":"14"},{"size":1937,"mtime":1665307948484,"results":"16","hashOfConfig":"14"},{"size":4144,"mtime":1665307948479,"results":"17","hashOfConfig":"14"},{"size":2877,"mtime":1665307948481,"results":"18","hashOfConfig":"14"},{"size":789,"mtime":1665307948482,"results":"19","hashOfConfig":"14"},{"size":2554,"mtime":1665307948483,"results":"20","hashOfConfig":"14"},{"size":6917,"mtime":1665307948483,"results":"21","hashOfConfig":"14"},{"size":2173,"mtime":1665307948481,"results":"22","hashOfConfig":"14"},{"size":3159,"mtime":1665307948484,"results":"23","hashOfConfig":"14"},{"size":2033,"mtime":1665307948440,"results":"24","hashOfConfig":"14"},{"size":1619,"mtime":1665307948483,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"169qvwn",{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js",["52","53"],"import { Link } from \"react-router-dom\";\r\nimport styles from \"./styles.module.css\";\r\nimport * as React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Form, Button, Row, Container } from 'react-bootstrap';\r\n\r\n\r\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\r\n\t\treturn(\r\n\t\t\t<div className={styles.body}>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.form_container}>\r\n\t\t\t\t<div className={styles.left}>\r\n\t\t\t\t\t<img className={styles.img} src=\"./images/logo.png\" alt=\"login\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.right}>\r\n\t\t\t\t<Form noValidate validated={validated} onSubmit={signInHandler}>\r\n\t\t\t\t\t<p className={styles.heading}>Blue Lagoon Resort</p>\r\n\t\t\t\t\t<Box sx={{\r\n\t\t\t\t\t\t\t'& > :not(style)': { m: 1, width: '450px' },\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" type=\"email\"  label=\"Email :\" onChange={inputChangeHandler} variant=\"standard\" width=\"850px\"/><br></br>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Password\" name=\"u_password\" value={u_password} onChange={inputChangeHandler} type=\"password\" variant=\"standard\" /><br></br>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{loginError ? <div className=\"error m-10\"><span>{errorMessage}</span></div> : null}\r\n\t\t\t\t\t<button className={styles.btn}>Log In</button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n}\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            userDetail: {\r\n                u_id: '',\r\n                u_name: '',\r\n                u_email: '',\r\n                u_password: '',\r\n                u_type: ''\r\n            },\r\n            loginError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n    inputChangeHandler(e) {\r\n        let { name, value } = e.currentTarget;\r\n        let { userDetail: userData } = this.state;\r\n        userData[name] = value;\r\n        this.setState({ userDetail: userData })\r\n    }\r\n    signInHandler(e) {\r\n\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        if (!form.checkValidity()) {\r\n            e.stopPropagation();\r\n            this.setState({ validated: true });\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        let { u_password: password, u_email: email } = this.state.userDetail;\r\n        let body = {\r\n            password,\r\n            email\r\n        };\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: JSON.stringify(body)\r\n        };\r\n        fetch('http://localhost:8080/login', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n\r\n                if (data.success) {\r\n                    console.log(\" data \", data);\r\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\r\n                    this.setState({ loginError: false, errorMessage: '' });\r\n                    window.location.pathname = \"/dashboard\";\r\n                } else {\r\n                    this.setState({ loginError: true, errorMessage: data.message });\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log('error', error));;\r\n\r\n\r\n    }\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row style={{ margin: 50 }}>\r\n                        <Col></Col>\r\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\r\n                        <Col></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Index;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js",["54"],"import React from \"react\";\r\nimport useGlobalContext from \"../../context/index\";\r\nimport { RiCloseFill, RiRoundedCorner } from \"react-icons/ri\";\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\n\r\nconst Tab = styled.button`\r\n  padding: 10px 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n  background: white;\r\n  border: 0;\r\n  outline: 0;\r\n  border-bottom: 2px solid transparent;\r\n  transition: ease border-bottom 250ms;\r\n  ${({ active }) =>\r\n    active &&\r\n    `\r\n    border-bottom: 2px solid black;\r\n    opacity: 1;\r\n  `}\r\n`;\r\nfunction TabGroup() {\r\n  const [active, setActive] = useState(types[0]);\r\n  return (\r\n    <>\r\n      <div>\r\n        {types.map((type) => (\r\n          <Tab\r\n            key={type}\r\n            active={active === type}\r\n            onClick={() => setActive(type)}\r\n          >\r\n            {type}\r\n          </Tab>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst types = [\"Cash\", \"Comp\"];\r\n\r\nfunction ManageBar() {\r\n  const { ForManaging, ParkingSlots, Exited, MockDate } = useGlobalContext();\r\n  const [forManaging, setForManaging] = ForManaging;\r\n  const [, setParkingSlots] = ParkingSlots;\r\n  const data = forManaging?.content;\r\n  const [exited, setExited] = Exited;\r\n  const [mockDate] = MockDate;\r\n\r\n  const hours = (\r\n    Math.abs(\r\n      (mockDate ? new Date(mockDate) : new Date()) - new Date(data?.entry)\r\n    ) / 36e5\r\n  ).toFixed(2);\r\n\r\n  const price = {\r\n    Bike: localStorage.getItem('bikeVal') || 20,\r\n    Car: localStorage.getItem('carVal') || 60,\r\n    Van: localStorage.getItem('vanVal') || 100,\r\n  };\r\n\r\n  const getBill = (hours) => {\r\n    if (hours >= 24) \r\n          return 5000;\r\n    return price[data?.size];\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setParkingSlots((P) =>\r\n      P.map((p) =>\r\n        p.occupied === data?.occupied ? { ...p, occupied: false } : p\r\n      )\r\n    );\r\n    setExited([...exited, { exit: new Date(), plate: data.occupied }]);\r\n    setForManaging({});\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        !forManaging.open && \"translate-y-full z-50\"\r\n      } transform duration-500 fixed bottom-0 inset-x-0`}\r\n    >\r\n      <div className=\"bg-blue-500 mx-auto min-w-max w-96  p-4 px-6 rounded-t-lg relative flex text-2xl justify-between items-end\">\r\n        <RiCloseFill\r\n          onClick={() => setForManaging({})}\r\n          className=\"absolute right-1 top-1 cursor-pointer\"\r\n        />\r\n        <div>\r\n          <p>plate: {data?.occupied}</p>\r\n          <p>time: {hours} hr/s</p>\r\n          <p>Total payment: {getBill(Math.ceil(hours))} LKR</p>\r\n        <div>\r\n      <TabGroup />\r\n        </div>\r\n        \r\n        <BiExit\r\n          title=\"UNPARK\"\r\n          className=\"text-4xl cursor-pointer\"\r\n          onClick={() => handleExit()}\r\n        />\r\n      </div>\r\n    </div></div>\r\n  );\r\n}\r\n\r\nexport default ManageBar;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js",[],{"ruleId":"55","severity":1,"message":"56","line":1,"column":10,"nodeType":"57","messageId":"58","endLine":1,"endColumn":14},{"ruleId":"55","severity":1,"message":"59","line":7,"column":16,"nodeType":"57","messageId":"58","endLine":7,"endColumn":22},{"ruleId":"55","severity":1,"message":"60","line":3,"column":23,"nodeType":"57","messageId":"58","endLine":3,"endColumn":38},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'RiRoundedCorner' is defined but never used."]
>>>>>>> parent of 3ebdddea (DB connect)
=======
[{"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js":"1","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js":"2","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js":"3","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js":"4","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js":"5","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js":"6","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js":"7","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js":"8","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js":"9","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js":"10","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js":"11","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js":"12"},{"size":307,"mtime":1665307948485,"results":"13","hashOfConfig":"14"},{"size":1779,"mtime":1665307948441,"results":"15","hashOfConfig":"14"},{"size":1937,"mtime":1665307948484,"results":"16","hashOfConfig":"14"},{"size":4144,"mtime":1665307948479,"results":"17","hashOfConfig":"14"},{"size":2877,"mtime":1665307948481,"results":"18","hashOfConfig":"14"},{"size":789,"mtime":1665307948482,"results":"19","hashOfConfig":"14"},{"size":2554,"mtime":1665307948483,"results":"20","hashOfConfig":"14"},{"size":6917,"mtime":1665307948483,"results":"21","hashOfConfig":"14"},{"size":2173,"mtime":1665307948481,"results":"22","hashOfConfig":"14"},{"size":3159,"mtime":1665307948484,"results":"23","hashOfConfig":"14"},{"size":2033,"mtime":1665307948440,"results":"24","hashOfConfig":"14"},{"size":1619,"mtime":1665307948483,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"169qvwn",{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js",["52","53"],"import { Link } from \"react-router-dom\";\r\nimport styles from \"./styles.module.css\";\r\nimport * as React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Form, Button, Row, Container } from 'react-bootstrap';\r\n\r\n\r\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\r\n\t\treturn(\r\n\t\t\t<div className={styles.body}>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.form_container}>\r\n\t\t\t\t<div className={styles.left}>\r\n\t\t\t\t\t<img className={styles.img} src=\"./images/logo.png\" alt=\"login\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.right}>\r\n\t\t\t\t<Form noValidate validated={validated} onSubmit={signInHandler}>\r\n\t\t\t\t\t<p className={styles.heading}>Blue Lagoon Resort</p>\r\n\t\t\t\t\t<Box sx={{\r\n\t\t\t\t\t\t\t'& > :not(style)': { m: 1, width: '450px' },\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" type=\"email\"  label=\"Email :\" onChange={inputChangeHandler} variant=\"standard\" width=\"850px\"/><br></br>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Password\" name=\"u_password\" value={u_password} onChange={inputChangeHandler} type=\"password\" variant=\"standard\" /><br></br>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{loginError ? <div className=\"error m-10\"><span>{errorMessage}</span></div> : null}\r\n\t\t\t\t\t<button className={styles.btn}>Log In</button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n}\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            userDetail: {\r\n                u_id: '',\r\n                u_name: '',\r\n                u_email: '',\r\n                u_password: '',\r\n                u_type: ''\r\n            },\r\n            loginError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n    inputChangeHandler(e) {\r\n        let { name, value } = e.currentTarget;\r\n        let { userDetail: userData } = this.state;\r\n        userData[name] = value;\r\n        this.setState({ userDetail: userData })\r\n    }\r\n    signInHandler(e) {\r\n\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        if (!form.checkValidity()) {\r\n            e.stopPropagation();\r\n            this.setState({ validated: true });\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        let { u_password: password, u_email: email } = this.state.userDetail;\r\n        let body = {\r\n            password,\r\n            email\r\n        };\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: JSON.stringify(body)\r\n        };\r\n        fetch('http://localhost:8080/login', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n\r\n                if (data.success) {\r\n                    console.log(\" data \", data);\r\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\r\n                    this.setState({ loginError: false, errorMessage: '' });\r\n                    window.location.pathname = \"/dashboard\";\r\n                } else {\r\n                    this.setState({ loginError: true, errorMessage: data.message });\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log('error', error));;\r\n\r\n\r\n    }\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row style={{ margin: 50 }}>\r\n                        <Col></Col>\r\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\r\n                        <Col></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Index;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js",["54"],"import React from \"react\";\r\nimport useGlobalContext from \"../../context/index\";\r\nimport { RiCloseFill, RiRoundedCorner } from \"react-icons/ri\";\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\n\r\nconst Tab = styled.button`\r\n  padding: 10px 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n  background: white;\r\n  border: 0;\r\n  outline: 0;\r\n  border-bottom: 2px solid transparent;\r\n  transition: ease border-bottom 250ms;\r\n  ${({ active }) =>\r\n    active &&\r\n    `\r\n    border-bottom: 2px solid black;\r\n    opacity: 1;\r\n  `}\r\n`;\r\nfunction TabGroup() {\r\n  const [active, setActive] = useState(types[0]);\r\n  return (\r\n    <>\r\n      <div>\r\n        {types.map((type) => (\r\n          <Tab\r\n            key={type}\r\n            active={active === type}\r\n            onClick={() => setActive(type)}\r\n          >\r\n            {type}\r\n          </Tab>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst types = [\"Cash\", \"Comp\"];\r\n\r\nfunction ManageBar() {\r\n  const { ForManaging, ParkingSlots, Exited, MockDate } = useGlobalContext();\r\n  const [forManaging, setForManaging] = ForManaging;\r\n  const [, setParkingSlots] = ParkingSlots;\r\n  const data = forManaging?.content;\r\n  const [exited, setExited] = Exited;\r\n  const [mockDate] = MockDate;\r\n\r\n  const hours = (\r\n    Math.abs(\r\n      (mockDate ? new Date(mockDate) : new Date()) - new Date(data?.entry)\r\n    ) / 36e5\r\n  ).toFixed(2);\r\n\r\n  const price = {\r\n    Bike: localStorage.getItem('bikeVal') || 20,\r\n    Car: localStorage.getItem('carVal') || 60,\r\n    Van: localStorage.getItem('vanVal') || 100,\r\n  };\r\n\r\n  const getBill = (hours) => {\r\n    if (hours >= 24) \r\n          return 5000;\r\n    return price[data?.size];\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setParkingSlots((P) =>\r\n      P.map((p) =>\r\n        p.occupied === data?.occupied ? { ...p, occupied: false } : p\r\n      )\r\n    );\r\n    setExited([...exited, { exit: new Date(), plate: data.occupied }]);\r\n    setForManaging({});\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        !forManaging.open && \"translate-y-full z-50\"\r\n      } transform duration-500 fixed bottom-0 inset-x-0`}\r\n    >\r\n      <div className=\"bg-blue-500 mx-auto min-w-max w-96  p-4 px-6 rounded-t-lg relative flex text-2xl justify-between items-end\">\r\n        <RiCloseFill\r\n          onClick={() => setForManaging({})}\r\n          className=\"absolute right-1 top-1 cursor-pointer\"\r\n        />\r\n        <div>\r\n          <p>plate: {data?.occupied}</p>\r\n          <p>time: {hours} hr/s</p>\r\n          <p>Total payment: {getBill(Math.ceil(hours))} LKR</p>\r\n        <div>\r\n      <TabGroup />\r\n        </div>\r\n        \r\n        <BiExit\r\n          title=\"UNPARK\"\r\n          className=\"text-4xl cursor-pointer\"\r\n          onClick={() => handleExit()}\r\n        />\r\n      </div>\r\n    </div></div>\r\n  );\r\n}\r\n\r\nexport default ManageBar;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js",[],{"ruleId":"55","severity":1,"message":"56","line":1,"column":10,"nodeType":"57","messageId":"58","endLine":1,"endColumn":14},{"ruleId":"55","severity":1,"message":"59","line":7,"column":16,"nodeType":"57","messageId":"58","endLine":7,"endColumn":22},{"ruleId":"55","severity":1,"message":"60","line":3,"column":23,"nodeType":"57","messageId":"58","endLine":3,"endColumn":38},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'RiRoundedCorner' is defined but never used."]
>>>>>>> parent of 3ebdddea (DB connect)
=======
[{"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js":"1","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js":"2","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js":"3","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js":"4","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js":"5","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js":"6","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js":"7","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js":"8","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js":"9","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js":"10","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js":"11","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js":"12"},{"size":307,"mtime":1665307948485,"results":"13","hashOfConfig":"14"},{"size":1779,"mtime":1665307948441,"results":"15","hashOfConfig":"14"},{"size":1937,"mtime":1665307948484,"results":"16","hashOfConfig":"14"},{"size":4144,"mtime":1665307948479,"results":"17","hashOfConfig":"14"},{"size":2877,"mtime":1665307948481,"results":"18","hashOfConfig":"14"},{"size":789,"mtime":1665307948482,"results":"19","hashOfConfig":"14"},{"size":2554,"mtime":1665307948483,"results":"20","hashOfConfig":"14"},{"size":6917,"mtime":1665307948483,"results":"21","hashOfConfig":"14"},{"size":2173,"mtime":1665307948481,"results":"22","hashOfConfig":"14"},{"size":3159,"mtime":1665307948484,"results":"23","hashOfConfig":"14"},{"size":2033,"mtime":1665307948440,"results":"24","hashOfConfig":"14"},{"size":1619,"mtime":1665307948483,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"169qvwn",{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js",["52","53"],"import { Link } from \"react-router-dom\";\r\nimport styles from \"./styles.module.css\";\r\nimport * as React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Form, Button, Row, Container } from 'react-bootstrap';\r\n\r\n\r\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\r\n\t\treturn(\r\n\t\t\t<div className={styles.body}>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.form_container}>\r\n\t\t\t\t<div className={styles.left}>\r\n\t\t\t\t\t<img className={styles.img} src=\"./images/logo.png\" alt=\"login\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.right}>\r\n\t\t\t\t<Form noValidate validated={validated} onSubmit={signInHandler}>\r\n\t\t\t\t\t<p className={styles.heading}>Blue Lagoon Resort</p>\r\n\t\t\t\t\t<Box sx={{\r\n\t\t\t\t\t\t\t'& > :not(style)': { m: 1, width: '450px' },\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" type=\"email\"  label=\"Email :\" onChange={inputChangeHandler} variant=\"standard\" width=\"850px\"/><br></br>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Password\" name=\"u_password\" value={u_password} onChange={inputChangeHandler} type=\"password\" variant=\"standard\" /><br></br>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{loginError ? <div className=\"error m-10\"><span>{errorMessage}</span></div> : null}\r\n\t\t\t\t\t<button className={styles.btn}>Log In</button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n}\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            userDetail: {\r\n                u_id: '',\r\n                u_name: '',\r\n                u_email: '',\r\n                u_password: '',\r\n                u_type: ''\r\n            },\r\n            loginError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n    inputChangeHandler(e) {\r\n        let { name, value } = e.currentTarget;\r\n        let { userDetail: userData } = this.state;\r\n        userData[name] = value;\r\n        this.setState({ userDetail: userData })\r\n    }\r\n    signInHandler(e) {\r\n\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        if (!form.checkValidity()) {\r\n            e.stopPropagation();\r\n            this.setState({ validated: true });\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        let { u_password: password, u_email: email } = this.state.userDetail;\r\n        let body = {\r\n            password,\r\n            email\r\n        };\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: JSON.stringify(body)\r\n        };\r\n        fetch('http://localhost:8080/login', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n\r\n                if (data.success) {\r\n                    console.log(\" data \", data);\r\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\r\n                    this.setState({ loginError: false, errorMessage: '' });\r\n                    window.location.pathname = \"/dashboard\";\r\n                } else {\r\n                    this.setState({ loginError: true, errorMessage: data.message });\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log('error', error));;\r\n\r\n\r\n    }\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row style={{ margin: 50 }}>\r\n                        <Col></Col>\r\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\r\n                        <Col></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Index;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js",["54"],"import React from \"react\";\r\nimport useGlobalContext from \"../../context/index\";\r\nimport { RiCloseFill, RiRoundedCorner } from \"react-icons/ri\";\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\n\r\nconst Tab = styled.button`\r\n  padding: 10px 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n  background: white;\r\n  border: 0;\r\n  outline: 0;\r\n  border-bottom: 2px solid transparent;\r\n  transition: ease border-bottom 250ms;\r\n  ${({ active }) =>\r\n    active &&\r\n    `\r\n    border-bottom: 2px solid black;\r\n    opacity: 1;\r\n  `}\r\n`;\r\nfunction TabGroup() {\r\n  const [active, setActive] = useState(types[0]);\r\n  return (\r\n    <>\r\n      <div>\r\n        {types.map((type) => (\r\n          <Tab\r\n            key={type}\r\n            active={active === type}\r\n            onClick={() => setActive(type)}\r\n          >\r\n            {type}\r\n          </Tab>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst types = [\"Cash\", \"Comp\"];\r\n\r\nfunction ManageBar() {\r\n  const { ForManaging, ParkingSlots, Exited, MockDate } = useGlobalContext();\r\n  const [forManaging, setForManaging] = ForManaging;\r\n  const [, setParkingSlots] = ParkingSlots;\r\n  const data = forManaging?.content;\r\n  const [exited, setExited] = Exited;\r\n  const [mockDate] = MockDate;\r\n\r\n  const hours = (\r\n    Math.abs(\r\n      (mockDate ? new Date(mockDate) : new Date()) - new Date(data?.entry)\r\n    ) / 36e5\r\n  ).toFixed(2);\r\n\r\n  const price = {\r\n    Bike: localStorage.getItem('bikeVal') || 20,\r\n    Car: localStorage.getItem('carVal') || 60,\r\n    Van: localStorage.getItem('vanVal') || 100,\r\n  };\r\n\r\n  const getBill = (hours) => {\r\n    if (hours >= 24) \r\n          return 5000;\r\n    return price[data?.size];\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setParkingSlots((P) =>\r\n      P.map((p) =>\r\n        p.occupied === data?.occupied ? { ...p, occupied: false } : p\r\n      )\r\n    );\r\n    setExited([...exited, { exit: new Date(), plate: data.occupied }]);\r\n    setForManaging({});\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        !forManaging.open && \"translate-y-full z-50\"\r\n      } transform duration-500 fixed bottom-0 inset-x-0`}\r\n    >\r\n      <div className=\"bg-blue-500 mx-auto min-w-max w-96  p-4 px-6 rounded-t-lg relative flex text-2xl justify-between items-end\">\r\n        <RiCloseFill\r\n          onClick={() => setForManaging({})}\r\n          className=\"absolute right-1 top-1 cursor-pointer\"\r\n        />\r\n        <div>\r\n          <p>plate: {data?.occupied}</p>\r\n          <p>time: {hours} hr/s</p>\r\n          <p>Total payment: {getBill(Math.ceil(hours))} LKR</p>\r\n        <div>\r\n      <TabGroup />\r\n        </div>\r\n        \r\n        <BiExit\r\n          title=\"UNPARK\"\r\n          className=\"text-4xl cursor-pointer\"\r\n          onClick={() => handleExit()}\r\n        />\r\n      </div>\r\n    </div></div>\r\n  );\r\n}\r\n\r\nexport default ManageBar;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js",[],{"ruleId":"55","severity":1,"message":"56","line":1,"column":10,"nodeType":"57","messageId":"58","endLine":1,"endColumn":14},{"ruleId":"55","severity":1,"message":"59","line":7,"column":16,"nodeType":"57","messageId":"58","endLine":7,"endColumn":22},{"ruleId":"55","severity":1,"message":"60","line":3,"column":23,"nodeType":"57","messageId":"58","endLine":3,"endColumn":38},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'RiRoundedCorner' is defined but never used."]
>>>>>>> parent of 3ebdddea (DB connect)
=======
[{"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js":"1","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js":"2","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js":"3","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js":"4","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js":"5","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js":"6","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js":"7","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js":"8","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js":"9","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js":"10","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js":"11","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js":"12"},{"size":307,"mtime":1665307948485,"results":"13","hashOfConfig":"14"},{"size":1779,"mtime":1665307948441,"results":"15","hashOfConfig":"14"},{"size":1937,"mtime":1665307948484,"results":"16","hashOfConfig":"14"},{"size":4144,"mtime":1665307948479,"results":"17","hashOfConfig":"14"},{"size":2877,"mtime":1665307948481,"results":"18","hashOfConfig":"14"},{"size":789,"mtime":1665307948482,"results":"19","hashOfConfig":"14"},{"size":2554,"mtime":1665307948483,"results":"20","hashOfConfig":"14"},{"size":6917,"mtime":1665307948483,"results":"21","hashOfConfig":"14"},{"size":2173,"mtime":1665307948481,"results":"22","hashOfConfig":"14"},{"size":3159,"mtime":1665307948484,"results":"23","hashOfConfig":"14"},{"size":2033,"mtime":1665307948440,"results":"24","hashOfConfig":"14"},{"size":1619,"mtime":1665307948483,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"169qvwn",{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\App.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\context\\index.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Login\\index.js",["52","53"],"import { Link } from \"react-router-dom\";\r\nimport styles from \"./styles.module.css\";\r\nimport * as React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Form, Button, Row, Container } from 'react-bootstrap';\r\n\r\n\r\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\r\n\t\treturn(\r\n\t\t\t<div className={styles.body}>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.form_container}>\r\n\t\t\t\t<div className={styles.left}>\r\n\t\t\t\t\t<img className={styles.img} src=\"./images/logo.png\" alt=\"login\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.right}>\r\n\t\t\t\t<Form noValidate validated={validated} onSubmit={signInHandler}>\r\n\t\t\t\t\t<p className={styles.heading}>Blue Lagoon Resort</p>\r\n\t\t\t\t\t<Box sx={{\r\n\t\t\t\t\t\t\t'& > :not(style)': { m: 1, width: '450px' },\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" type=\"email\"  label=\"Email :\" onChange={inputChangeHandler} variant=\"standard\" width=\"850px\"/><br></br>\r\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Password\" name=\"u_password\" value={u_password} onChange={inputChangeHandler} type=\"password\" variant=\"standard\" /><br></br>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{loginError ? <div className=\"error m-10\"><span>{errorMessage}</span></div> : null}\r\n\t\t\t\t\t<button className={styles.btn}>Log In</button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n}\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            userDetail: {\r\n                u_id: '',\r\n                u_name: '',\r\n                u_email: '',\r\n                u_password: '',\r\n                u_type: ''\r\n            },\r\n            loginError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n    inputChangeHandler(e) {\r\n        let { name, value } = e.currentTarget;\r\n        let { userDetail: userData } = this.state;\r\n        userData[name] = value;\r\n        this.setState({ userDetail: userData })\r\n    }\r\n    signInHandler(e) {\r\n\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        if (!form.checkValidity()) {\r\n            e.stopPropagation();\r\n            this.setState({ validated: true });\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        let { u_password: password, u_email: email } = this.state.userDetail;\r\n        let body = {\r\n            password,\r\n            email\r\n        };\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: JSON.stringify(body)\r\n        };\r\n        fetch('http://localhost:8080/login', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n\r\n                if (data.success) {\r\n                    console.log(\" data \", data);\r\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\r\n                    this.setState({ loginError: false, errorMessage: '' });\r\n                    window.location.pathname = \"/dashboard\";\r\n                } else {\r\n                    this.setState({ loginError: true, errorMessage: data.message });\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log('error', error));;\r\n\r\n\r\n    }\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row style={{ margin: 50 }}>\r\n                        <Col></Col>\r\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\r\n                        <Col></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Index;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ManageBar.js",["54"],"import React from \"react\";\r\nimport useGlobalContext from \"../../context/index\";\r\nimport { RiCloseFill, RiRoundedCorner } from \"react-icons/ri\";\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\n\r\nconst Tab = styled.button`\r\n  padding: 10px 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n  background: white;\r\n  border: 0;\r\n  outline: 0;\r\n  border-bottom: 2px solid transparent;\r\n  transition: ease border-bottom 250ms;\r\n  ${({ active }) =>\r\n    active &&\r\n    `\r\n    border-bottom: 2px solid black;\r\n    opacity: 1;\r\n  `}\r\n`;\r\nfunction TabGroup() {\r\n  const [active, setActive] = useState(types[0]);\r\n  return (\r\n    <>\r\n      <div>\r\n        {types.map((type) => (\r\n          <Tab\r\n            key={type}\r\n            active={active === type}\r\n            onClick={() => setActive(type)}\r\n          >\r\n            {type}\r\n          </Tab>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst types = [\"Cash\", \"Comp\"];\r\n\r\nfunction ManageBar() {\r\n  const { ForManaging, ParkingSlots, Exited, MockDate } = useGlobalContext();\r\n  const [forManaging, setForManaging] = ForManaging;\r\n  const [, setParkingSlots] = ParkingSlots;\r\n  const data = forManaging?.content;\r\n  const [exited, setExited] = Exited;\r\n  const [mockDate] = MockDate;\r\n\r\n  const hours = (\r\n    Math.abs(\r\n      (mockDate ? new Date(mockDate) : new Date()) - new Date(data?.entry)\r\n    ) / 36e5\r\n  ).toFixed(2);\r\n\r\n  const price = {\r\n    Bike: localStorage.getItem('bikeVal') || 20,\r\n    Car: localStorage.getItem('carVal') || 60,\r\n    Van: localStorage.getItem('vanVal') || 100,\r\n  };\r\n\r\n  const getBill = (hours) => {\r\n    if (hours >= 24) \r\n          return 5000;\r\n    return price[data?.size];\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setParkingSlots((P) =>\r\n      P.map((p) =>\r\n        p.occupied === data?.occupied ? { ...p, occupied: false } : p\r\n      )\r\n    );\r\n    setExited([...exited, { exit: new Date(), plate: data.occupied }]);\r\n    setForManaging({});\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        !forManaging.open && \"translate-y-full z-50\"\r\n      } transform duration-500 fixed bottom-0 inset-x-0`}\r\n    >\r\n      <div className=\"bg-blue-500 mx-auto min-w-max w-96  p-4 px-6 rounded-t-lg relative flex text-2xl justify-between items-end\">\r\n        <RiCloseFill\r\n          onClick={() => setForManaging({})}\r\n          className=\"absolute right-1 top-1 cursor-pointer\"\r\n        />\r\n        <div>\r\n          <p>plate: {data?.occupied}</p>\r\n          <p>time: {hours} hr/s</p>\r\n          <p>Total payment: {getBill(Math.ceil(hours))} LKR</p>\r\n        <div>\r\n      <TabGroup />\r\n        </div>\r\n        \r\n        <BiExit\r\n          title=\"UNPARK\"\r\n          className=\"text-4xl cursor-pointer\"\r\n          onClick={() => handleExit()}\r\n        />\r\n      </div>\r\n    </div></div>\r\n  );\r\n}\r\n\r\nexport default ManageBar;\r\n","C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\Notification.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\StatusBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkingLot.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\EditBar.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\nav\\MainNavigation.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\Admin\\parkingFee\\ParkingFee.js",[],"C:\\Users\\Ayushka Weerasinghe\\Desktop\\Submission\\Frontend\\src\\ParkingManagement\\components\\PArkingManagement\\ParkModal.js",[],{"ruleId":"55","severity":1,"message":"56","line":1,"column":10,"nodeType":"57","messageId":"58","endLine":1,"endColumn":14},{"ruleId":"55","severity":1,"message":"59","line":7,"column":16,"nodeType":"57","messageId":"58","endLine":7,"endColumn":22},{"ruleId":"55","severity":1,"message":"60","line":3,"column":23,"nodeType":"57","messageId":"58","endLine":3,"endColumn":38},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'RiRoundedCorner' is defined but never used."]
>>>>>>> parent of 3ebdddea (DB connect)
