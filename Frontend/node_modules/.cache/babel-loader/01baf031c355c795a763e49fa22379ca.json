{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN test\\\\submission test\\\\This Is what im submitting\\\\Frontend\\\\src\\\\Login\\\\index.js\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\";\nimport * as React from 'react';\nimport { Col } from 'react-bootstrap';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = _ref => {\n  let {\n    validated,\n    signInHandler,\n    inputChangeHandler,\n    user: {\n      u_email,\n      u_password\n    },\n    loginError,\n    errorMessage\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.body,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.form_container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.left,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.img,\n            src: \"./images/logo.png\",\n            alt: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 15,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.right,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            noValidate: true,\n            validated: validated,\n            onSubmit: signInHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.heading,\n              children: \"Blue Lagoon Resort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 19,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                '& > :not(style)': {\n                  m: 1,\n                  width: '450px'\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                id: \"standard-basic\",\n                label: \"Email : \",\n                variant: \"standard\",\n                width: \"850px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 23,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 23,\n                columnNumber: 89\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"standard-basic\",\n                label: \"Password\",\n                type: \"password\",\n                variant: \"standard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 24,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 24,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 20,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.btn,\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 4\n  }, this);\n};\n\n_c = LoginForm;\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validated: false,\n      userDetail: {\n        u_id: '',\n        u_name: '',\n        u_email: '',\n        u_password: '',\n        u_type: ''\n      },\n      loginError: false,\n      errorMessage: ''\n    };\n  }\n\n  inputChangeHandler(e) {\n    let {\n      name,\n      value\n    } = e.currentTarget;\n    let {\n      userDetail: userData\n    } = this.state;\n    userData[name] = value;\n    this.setState({\n      userDetail: userData\n    });\n  }\n\n  signInHandler(e) {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    if (!form.checkValidity()) {\n      e.stopPropagation();\n      this.setState({\n        validated: true\n      });\n      return false;\n    }\n\n    let {\n      u_password: password,\n      u_email: email\n    } = this.state.userDetail;\n    let body = {\n      password,\n      email\n    };\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify(body)\n    };\n    fetch('http://localhost:3070/login', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.success) {\n        console.log(\" data \", data);\n        localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\n        this.setState({\n          loginError: false,\n          errorMessage: ''\n        });\n        window.location.pathname = \"/dashboard\";\n      } else {\n        this.setState({\n          loginError: true,\n          errorMessage: data.message\n        });\n      }\n    }).catch(error => console.log('error', error));\n    ;\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: 50\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"6\",\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(LoginForm, {\n              validated: this.state.validated,\n              user: this.state.userDetail,\n              loginError: this.state.loginError,\n              errorMessage: this.state.errorMessage,\n              inputChangeHandler: this.inputChangeHandler.bind(this),\n              signInHandler: this.signInHandler.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/MERN test/submission test/This Is what im submitting/Frontend/src/Login/index.js"],"names":["Link","styles","React","Col","Box","TextField","LoginForm","validated","signInHandler","inputChangeHandler","user","u_email","u_password","loginError","errorMessage","body","container","form_container","left","img","right","heading","m","width","btn","Index","Component","constructor","props","state","userDetail","u_id","u_name","u_type","e","name","value","currentTarget","userData","setState","preventDefault","form","checkValidity","stopPropagation","password","email","myHeaders","Headers","append","requestOptions","method","headers","JSON","stringify","fetch","then","res","json","data","console","log","success","localStorage","setItem","users","window","location","pathname","message","catch","error","render","margin","bind","Login"],"mappings":";AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;;AAGA,MAAMC,SAAS,GAAG,QAA+G;AAAA,MAA9G;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,aAAb;AAA4BC,IAAAA,kBAA5B;AAAgDC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAtD;AAA+EC,IAAAA,UAA/E;AAA2FC,IAAAA;AAA3F,GAA8G;AAC/H,sBACC;AAAK,IAAA,SAAS,EAAEb,MAAM,CAACc,IAAvB;AAAA,2BACA;AAAK,MAAA,SAAS,EAAEd,MAAM,CAACe,SAAvB;AAAA,6BACA;AAAK,QAAA,SAAS,EAAEf,MAAM,CAACgB,cAAvB;AAAA,gCACC;AAAK,UAAA,SAAS,EAAEhB,MAAM,CAACiB,IAAvB;AAAA,iCACC;AAAK,YAAA,SAAS,EAAEjB,MAAM,CAACkB,GAAvB;AAA4B,YAAA,GAAG,EAAC,mBAAhC;AAAoD,YAAA,GAAG,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAIC;AAAK,UAAA,SAAS,EAAElB,MAAM,CAACmB,KAAvB;AAAA,iCACA,QAAC,IAAD;AAAM,YAAA,UAAU,MAAhB;AAAiB,YAAA,SAAS,EAAEb,SAA5B;AAAuC,YAAA,QAAQ,EAAEC,aAAjD;AAAA,oCACC;AAAG,cAAA,SAAS,EAAEP,MAAM,CAACoB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE;AACP,mCAAmB;AAAEC,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,KAAK,EAAE;AAAf;AADZ,eAAT;AAAA,sCAGC,QAAC,SAAD;AAAW,gBAAA,EAAE,EAAC,gBAAd;AAA+B,gBAAA,KAAK,EAAC,UAArC;AAAgD,gBAAA,OAAO,EAAC,UAAxD;AAAmE,gBAAA,KAAK,EAAC;AAAzE;AAAA;AAAA;AAAA;AAAA,sBAHD,eAGmF;AAAA;AAAA;AAAA;AAAA,sBAHnF,eAIC,QAAC,SAAD;AAAW,gBAAA,EAAE,EAAC,gBAAd;AAA+B,gBAAA,KAAK,EAAC,UAArC;AAAgD,gBAAA,IAAI,EAAC,UAArD;AAAgE,gBAAA,OAAO,EAAC;AAAxE;AAAA;AAAA;AAAA;AAAA,sBAJD,eAIsF;AAAA;AAAA;AAAA;AAAA,sBAJtF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,eAQC;AAAQ,cAAA,SAAS,EAAEtB,MAAM,CAACuB,GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADD;AAwBD,CAzBD;;KAAMlB,S;;AA0BN,MAAMmB,KAAN,SAAoBvB,KAAK,CAACwB,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTtB,MAAAA,SAAS,EAAE,KADF;AAETuB,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,EADE;AAERC,QAAAA,MAAM,EAAE,EAFA;AAGRrB,QAAAA,OAAO,EAAE,EAHD;AAIRC,QAAAA,UAAU,EAAE,EAJJ;AAKRqB,QAAAA,MAAM,EAAE;AALA,OAFH;AASTpB,MAAAA,UAAU,EAAE,KATH;AAUTC,MAAAA,YAAY,EAAE;AAVL,KAAb;AAYH;;AACDL,EAAAA,kBAAkB,CAACyB,CAAD,EAAI;AAClB,QAAI;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,aAAxB;AACA,QAAI;AAAEP,MAAAA,UAAU,EAAEQ;AAAd,QAA2B,KAAKT,KAApC;AACAS,IAAAA,QAAQ,CAACH,IAAD,CAAR,GAAiBC,KAAjB;AACA,SAAKG,QAAL,CAAc;AAAET,MAAAA,UAAU,EAAEQ;AAAd,KAAd;AACH;;AACD9B,EAAAA,aAAa,CAAC0B,CAAD,EAAI;AAEbA,IAAAA,CAAC,CAACM,cAAF;AACA,UAAMC,IAAI,GAAGP,CAAC,CAACG,aAAf;;AACA,QAAI,CAACI,IAAI,CAACC,aAAL,EAAL,EAA2B;AACvBR,MAAAA,CAAC,CAACS,eAAF;AACA,WAAKJ,QAAL,CAAc;AAAEhC,QAAAA,SAAS,EAAE;AAAb,OAAd;AACA,aAAO,KAAP;AACH;;AAID,QAAI;AAAEK,MAAAA,UAAU,EAAEgC,QAAd;AAAwBjC,MAAAA,OAAO,EAAEkC;AAAjC,QAA2C,KAAKhB,KAAL,CAAWC,UAA1D;AACA,QAAIf,IAAI,GAAG;AACP6B,MAAAA,QADO;AAEPC,MAAAA;AAFO,KAAX;AAIA,QAAIC,SAAS,GAAG,IAAIC,OAAJ,EAAhB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AACA,QAAIC,cAAc,GAAG;AACjBC,MAAAA,MAAM,EAAE,MADS;AAEjBC,MAAAA,OAAO,EAAEL,SAFQ;AAGjB/B,MAAAA,IAAI,EAAEqC,IAAI,CAACC,SAAL,CAAetC,IAAf;AAHW,KAArB;AAKAuC,IAAAA,KAAK,CAAC,6BAAD,EAAgCL,cAAhC,CAAL,CACKM,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AAEA,UAAIA,IAAI,CAACG,OAAT,EAAkB;AACdF,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,IAAtB;AACAI,QAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCX,IAAI,CAACC,SAAL,CAAeK,IAAI,CAACM,KAApB,CAArC;AACA,aAAKzB,QAAL,CAAc;AAAE1B,UAAAA,UAAU,EAAE,KAAd;AAAqBC,UAAAA,YAAY,EAAE;AAAnC,SAAd;AACAmD,QAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,YAA3B;AACH,OALD,MAKO;AACH,aAAK5B,QAAL,CAAc;AAAE1B,UAAAA,UAAU,EAAE,IAAd;AAAoBC,UAAAA,YAAY,EAAE4C,IAAI,CAACU;AAAvC,SAAd;AACH;AAEJ,KAdL,EAeKC,KAfL,CAeWC,KAAK,IAAIX,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBU,KAArB,CAfpB;AAeiD;AAGpD;;AACDC,EAAAA,MAAM,GAAG;AACLZ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK/B,KAAjB;AACA,wBACI;AAAA,6BACI,QAAC,SAAD;AAAA,+BACI,QAAC,GAAD;AAAK,UAAA,KAAK,EAAE;AAAE2C,YAAAA,MAAM,EAAE;AAAV,WAAZ;AAAA,kCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,GAAR;AAAY,YAAA,EAAE,EAAC,GAAf;AAAA,mCAAmB,QAAC,SAAD;AAAW,cAAA,SAAS,EAAE,KAAK3C,KAAL,CAAWtB,SAAjC;AAA4C,cAAA,IAAI,EAAE,KAAKsB,KAAL,CAAWC,UAA7D;AAAyE,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWhB,UAAhG;AAA4G,cAAA,YAAY,EAAE,KAAKgB,KAAL,CAAWf,YAArI;AAAmJ,cAAA,kBAAkB,EAAE,KAAKL,kBAAL,CAAwBgE,IAAxB,CAA6B,IAA7B,CAAvK;AAA2M,cAAA,aAAa,EAAE,KAAKjE,aAAL,CAAmBiE,IAAnB,CAAwB,IAAxB;AAA1N;AAAA;AAAA;AAAA;AAAA;AAAnB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AA9E+B;;AAgFpC,eAAeC,KAAf","sourcesContent":["import { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\";\nimport * as React from 'react';\nimport { Col } from 'react-bootstrap';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\n\n\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\n\t\treturn(\n\t\t\t<div className={styles.body}>\n\t\t\t<div className={styles.container}>\n\t\t\t<div className={styles.form_container}>\n\t\t\t\t<div className={styles.left}>\n\t\t\t\t\t<img className={styles.img} src=\"./images/logo.png\" alt=\"login\" />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.right}>\n\t\t\t\t<Form noValidate validated={validated} onSubmit={signInHandler}>\n\t\t\t\t\t<p className={styles.heading}>Blue Lagoon Resort</p>\n\t\t\t\t\t<Box sx={{\n\t\t\t\t\t\t\t'& > :not(style)': { m: 1, width: '450px' },\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Email : \" variant=\"standard\" width=\"850px\"/><br></br>\n\t\t\t\t\t\t<TextField id=\"standard-basic\" label=\"Password\" type=\"password\" variant=\"standard\" /><br></br>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<button className={styles.btn}>Log In</button>\n\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n}\nclass Index extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            validated: false,\n            userDetail: {\n                u_id: '',\n                u_name: '',\n                u_email: '',\n                u_password: '',\n                u_type: ''\n            },\n            loginError: false,\n            errorMessage: ''\n        }\n    }\n    inputChangeHandler(e) {\n        let { name, value } = e.currentTarget;\n        let { userDetail: userData } = this.state;\n        userData[name] = value;\n        this.setState({ userDetail: userData })\n    }\n    signInHandler(e) {\n\n        e.preventDefault();\n        const form = e.currentTarget;\n        if (!form.checkValidity()) {\n            e.stopPropagation();\n            this.setState({ validated: true });\n            return false;\n        }\n\n\n\n        let { u_password: password, u_email: email } = this.state.userDetail;\n        let body = {\n            password,\n            email\n        };\n        var myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: JSON.stringify(body)\n        };\n        fetch('http://localhost:3070/login', requestOptions)\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n\n                if (data.success) {\n                    console.log(\" data \", data);\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\n                    this.setState({ loginError: false, errorMessage: '' });\n                    window.location.pathname = \"/dashboard\";\n                } else {\n                    this.setState({ loginError: true, errorMessage: data.message });\n                }\n\n            })\n            .catch(error => console.log('error', error));;\n\n\n    }\n    render() {\n        console.log(this.state)\n        return (\n            <div>\n                <Container>\n                    <Row style={{ margin: 50 }}>\n                        <Col></Col>\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\n                        <Col></Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}