{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN test\\\\submission test\\\\This Is what im submitting\\\\frontend\\\\src\\\\ParkingManagement\\\\components\\\\PArkingManagement\\\\StatusBar.js\",\n    _s = $RefreshSig$();\n\nimport useGlobalContext from \"../../context/index\";\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StatusBar() {\n  _s();\n\n  const [time, setTime] = useState();\n  const {\n    Exited,\n    MockDate,\n    ParkingSlots\n  } = useGlobalContext();\n  const [exited, setExited] = Exited;\n  const [mockDate, setMockDate] = MockDate;\n  const [parkingSlots] = ParkingSlots;\n  const [tab, setTab] = useState(\"Parked\");\n  const returnExpiration = exited.map(e => Math.abs((mockDate ? new Date(mockDate) : new Date()) - new Date(e.exit)) / 36e5);\n  useEffect(() => {\n    setInterval(() => {\n      setTime(new Date().toLocaleString());\n    }, 1000);\n  }, [exited]);\n  useEffect(() => {\n    if (returnExpiration.some(T => T >= 1)) {\n      setExited(E => E.filter(e => Math.abs((mockDate ? new Date(mockDate) : new Date()) - new Date(e.exit)) / 36e5 < 1));\n    }\n  }, [returnExpiration, setExited, mockDate]);\n  const parked = parkingSlots.filter(p => p.occupied);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed right-0 top-0 p-4 grid gap-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Time : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Skip Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          className: \"text-black cursor-pointer\",\n          value: mockDate || \"\",\n          onChange: e => setMockDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 w-60 ml-auto bg-gray-700 border-2 border-black p-1 gap-1\",\n        children: [\"Parked\", \"Just Exited\"].map(T => /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setTab(T),\n          className: `${tab === T && \"bg-gray-300 text-black\"} hover:bg-gray-300 hover:text-black cursor-pointer text-center`,\n          children: T\n        }, T, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), tab === \"Parked\" ? parked === null || parked === void 0 ? void 0 : parked.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [e.occupied, \"-\", new Date(e.entry).toLocaleString()]\n      }, e.occupied, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this)) : exited === null || exited === void 0 ? void 0 : exited.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [e.plate, \"-\", new Date(e.exit).toLocaleString()]\n      }, e.plate, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StatusBar, \"ICNpNwqeswfC19ii6illAnlAplE=\", false, function () {\n  return [useGlobalContext];\n});\n\n_c = StatusBar;\nexport default StatusBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"StatusBar\");","map":{"version":3,"sources":["C:/MERN test/submission test/This Is what im submitting/frontend/src/ParkingManagement/components/PArkingManagement/StatusBar.js"],"names":["useGlobalContext","React","useEffect","useState","StatusBar","time","setTime","Exited","MockDate","ParkingSlots","exited","setExited","mockDate","setMockDate","parkingSlots","tab","setTab","returnExpiration","map","e","Math","abs","Date","exit","setInterval","toLocaleString","some","T","E","filter","parked","p","occupied","target","value","entry","plate"],"mappings":"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","sourcesContent":["import useGlobalContext from \"../../context/index\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction StatusBar() {\n  const [time, setTime] = useState();\n  const { Exited, MockDate, ParkingSlots } = useGlobalContext();\n  const [exited, setExited] = Exited;\n  const [mockDate, setMockDate] = MockDate;\n  const [parkingSlots] = ParkingSlots;\n  const [tab, setTab] = useState(\"Parked\");\n\n  const returnExpiration = exited.map(\n    (e) =>\n      Math.abs(\n        (mockDate ? new Date(mockDate) : new Date()) - new Date(e.exit)\n      ) / 36e5\n  );\n\n  useEffect(() => {\n    setInterval(() => {\n      setTime(new Date().toLocaleString());\n    }, 1000);\n  }, [exited]);\n\n  useEffect(() => {\n    if (returnExpiration.some((T) => T >= 1)) {\n      setExited((E) =>\n        E.filter(\n          (e) =>\n            Math.abs(\n              (mockDate ? new Date(mockDate) : new Date()) - new Date(e.exit)\n            ) /\n              36e5 <\n            1\n        )\n      );\n    }\n  }, [returnExpiration, setExited, mockDate]);\n\n  const parked = parkingSlots.filter((p) => p.occupied);\n\n  return (\n    <div className=\"fixed right-0 top-0 p-4 grid gap-2\">\n      <div className=\"flex justify-between\">\n        <span>Time : </span>\n        <span>{time}</span>\n      </div>\n      <div className=\"flex justify-between gap-4\">\n        <span>Skip Time:</span>\n        <span>\n          <input\n            type=\"datetime-local\"\n            className=\"text-black cursor-pointer\"\n            value={mockDate || \"\"}\n            onChange={(e) => setMockDate(e.target.value)}\n          />\n        </span>\n      </div>\n      <div className=\"text-right\">\n        <div className=\"grid grid-cols-2 w-60 ml-auto bg-gray-700 border-2 border-black p-1 gap-1\">\n          {[\"Parked\", \"Just Exited\"].map((T) => (\n            <span\n              key={T}\n              onClick={() => setTab(T)}\n              className={`${\n                tab === T && \"bg-gray-300 text-black\"\n              } hover:bg-gray-300 hover:text-black cursor-pointer text-center`}\n            >\n              {T}\n            </span>\n          ))}\n        </div>\n        {tab === \"Parked\"\n          ? parked?.map((e) => (\n              <p key={e.occupied}>\n                {e.occupied}-{new Date(e.entry).toLocaleString()}\n              </p>\n            ))\n          : exited?.map((e) => (\n              <p key={e.plate}>\n                {e.plate}-{new Date(e.exit).toLocaleString()}\n              </p>\n            ))}\n      </div>\n    </div>\n  );\n}\n\nexport default StatusBar;\n"]},"metadata":{},"sourceType":"module"}